import { useState } from 'react';
import ResultBG from '../background/ResultBG'
import kiwi from '../img/kiwi.png'
import peach from '../img/peach.png'
import strawberry from '../img/strawberry.png'
import orange from '../img/orange.png'
import circle_kiwi from '../img/circle_kiwi.png'
import circle_peach from '../img/circle_peach.png'
import circle_strawberry from '../img/circle_strawberry.png'
import circle_orange from '../img/circle_orange.png'
import excel from '../img/excel.png';
import ppt from '../img/ppt.png';
import teams from '../img/teams.png';
import onenote from '../img/onenote.png';

function Confirm(props) {
    return (
      <div className="next-step-btn-container">
        <button className="next-step-btn"  onClick={props.formSubmit}> 
          列印結果
        </button>
      </div>
    );
}
function Return(props) {
  return (
    <div className="next-step-btn-container return">
      <button className="next-step-btn return"  onClick={props.goToTheFirstPage}> 
        重新開始
      </button>
    </div>
  );
}

function Restart(props) {
  return (
    <div className="next-step-btn-container">
      <button className="next-step-btn"  onClick={props.goToTheFirstPage}> 
        重新測驗
      </button>
    </div>
  );
}

function Canvas() {
  return (
    <div className="result-background-container">
    <svg width="860" height="614" viewBox="0 0 860 614" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect x="20" y="10" width="820" height="30" rx="15" fill="#29CEB9"/>
      <rect x="30" y="20" width="800" height="10" rx="5" fill="#25B9A6"/>
      <g filter="url(#filter0_d)">
      <path d="M40 20H820V544C820 549.523 815.523 554 810 554H50C44.4771 554 40 549.523 40 544V20Z" fill="white"/>
      </g>
      <defs>
      <filter id="filter0_d" x="0" y="0" width="860" height="614" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
      <feFlood flood-opacity="0" result="BackgroundImageFix"/>
      <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>
      <feOffset dy="20"/>
      <feGaussianBlur stdDeviation="20"/>
      <feColorMatrix type="matrix" values="0 0 0 0 0.8 0 0 0 0 0.276667 0 0 0 0 0.384604 0 0 0 0.15 0"/>
      <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/>
      <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>
      </filter>
      </defs>
    </svg>
    </div>
  );
}

function Slogan() {
  return (
    <div style={{marginBottom: '20px'}}>
    <svg width="447" height="35" viewBox="0 0 447 35" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M56.848 10.336H49.672L50.968 9.784C50.632 9.136 49.912 8.08 49.36 7.312L46.744 8.32C47.104 8.944 47.584 9.688 47.92 10.336H41.584V12.448H56.848V10.336ZM43.312 18.568H54.832V16.576H43.312V18.568ZM54.832 13.48H43.312V15.472H54.832V13.48ZM45.712 21.712H52.24V23.728H45.712V21.712ZM43.048 25.768H55.048V19.696H43.048V25.768ZM40.984 11.272C40.264 10.312 38.944 8.824 37.792 7.672L35.68 8.992C36.784 10.168 38.152 11.824 38.824 12.832L40.984 11.272ZM40.48 18.976L40.024 19.048H38.272C39.544 17.416 41.08 15.232 41.968 13.912L40.24 13.12L39.952 13.24H35.08V15.52H38.176C37.264 16.792 36.304 18.112 35.848 18.544C35.392 19.024 34.984 19.216 34.624 19.312C34.84 19.816 35.368 21.04 35.512 21.616C35.728 21.424 36.424 21.256 37 21.256H39.016C38.224 24.52 36.688 26.872 34.48 28.192C35.008 28.552 35.944 29.56 36.304 30.112C37.456 29.32 38.512 28.264 39.376 26.872C41.2 29.224 43.96 29.68 48.28 29.68C51.088 29.68 54.112 29.632 56.584 29.464C56.728 28.696 57.112 27.4 57.52 26.824C54.808 27.088 50.896 27.232 48.328 27.232C44.536 27.208 41.92 26.92 40.456 24.688C41.08 23.2 41.56 21.472 41.848 19.48L40.48 18.976ZM71.416 13.792H78.28V14.536H71.416V13.792ZM71.416 11.992H78.28V12.688H71.416V11.992ZM71.416 10.168H78.28V10.864H71.416V10.168ZM67.216 16.384V18.832H69.688V17.776H71.944C71.392 18.64 70.24 19.12 67.576 19.384C67.984 19.744 68.44 20.32 68.632 20.776C72.256 20.296 73.816 19.528 74.56 17.776H76.096V18.544C76.096 19.648 76.288 20.464 77.824 20.464H80.488C81.112 20.464 81.904 20.44 82.264 20.344C82.144 19.768 82.144 19.552 82.096 18.976C81.784 19.096 80.8 19.144 80.368 19.144H78.952C78.424 19.144 78.4 18.928 78.4 18.568V17.776H80.032V18.688H82.6V16.384H76.504C76.408 16.168 76.312 15.928 76.192 15.688H81.04V9.016H75.4C75.688 8.68 75.976 8.296 76.264 7.864L73.312 7.672C73.192 8.032 72.952 8.536 72.712 9.016H68.776V15.688H73.288C73.384 15.88 73.456 16.144 73.528 16.384H67.216ZM66.688 11.296C66.04 10.336 64.792 8.824 63.712 7.696L61.576 8.944C62.584 10.144 63.856 11.8 64.456 12.808L66.688 11.296ZM77.68 24.544C77.584 24.88 77.464 25.072 77.32 25.192C77.176 25.336 77.008 25.36 76.672 25.36C76.312 25.36 75.472 25.36 74.632 25.264C74.872 25.696 75.064 26.368 75.088 26.8C76.144 26.896 77.2 26.896 77.704 26.848C78.328 26.824 78.856 26.728 79.288 26.368C79.768 26.008 80.056 25.24 80.272 23.824C80.344 23.584 80.368 23.056 80.368 23.056H73.864C73.912 22.864 73.96 22.672 74.008 22.48H82.504V20.92H76.24C76 20.416 75.712 19.84 75.472 19.432L73.144 19.936C73.288 20.248 73.432 20.584 73.576 20.92H67.336V22.48H71.608C71.224 23.704 70.288 24.544 67.696 25.048C68.08 25.384 68.56 26.056 68.848 26.584C67.672 26.152 66.784 25.48 66.136 24.28C66.616 22.888 66.976 21.28 67.192 19.48L65.992 18.976L65.56 19.048H64.168C65.296 17.392 66.664 15.088 67.48 13.744L65.728 13.072L65.344 13.24H60.952V15.52H63.832C63.04 16.816 62.2 18.136 61.816 18.568C61.408 19.048 61.024 19.24 60.64 19.336C60.904 19.84 61.408 21.04 61.552 21.616C61.744 21.424 62.464 21.256 63.016 21.256H64.432C63.76 24.472 62.464 26.848 60.544 28.264C61.096 28.624 62.032 29.584 62.416 30.136C63.472 29.296 64.408 28.168 65.152 26.68C67 29.2 69.784 29.68 74.2 29.68C77.008 29.68 80.032 29.608 82.528 29.464C82.672 28.672 83.032 27.4 83.44 26.824C80.728 27.088 76.816 27.232 74.248 27.232C72.328 27.232 70.696 27.136 69.376 26.776C71.272 26.248 72.448 25.528 73.12 24.544H77.68ZM102.04 23.752V24.712H93.664V23.752H102.04ZM93.664 27.544V26.584H102.04V27.544H93.664ZM90.856 30.064H93.664V29.416H102.04V29.992H104.968V21.88H90.856V30.064ZM90.736 14.584C91.744 14.2 92.704 13.744 93.64 13.264V13.744H102.064V13.12C103.12 13.672 104.2 14.176 105.328 14.584H90.736ZM103.648 19.36H101.704C102.088 18.688 102.544 17.752 103.024 16.792L101.152 16.336H103.648V19.36ZM91.888 19.36V16.336H94.6L92.752 16.864C93.136 17.632 93.448 18.616 93.568 19.36H91.888ZM96.592 19.36H94.144L95.68 18.88C95.536 18.184 95.152 17.152 94.72 16.336H96.592V19.36ZM100.624 16.336C100.408 17.128 100.024 18.232 99.688 18.952L101.128 19.36H98.896V16.336H100.624ZM95.992 11.896C96.712 11.392 97.408 10.864 98.032 10.336C98.632 10.864 99.328 11.392 100.048 11.896H95.992ZM97.36 7.48C95.2 10.264 90.904 12.256 86.488 13.336C86.968 13.816 87.736 14.968 88.024 15.52C88.504 15.376 89.008 15.208 89.512 15.04V21.088H106.192V14.896C106.696 15.04 107.2 15.208 107.68 15.328C108.064 14.656 108.88 13.648 109.48 13.168C105.664 12.376 101.728 10.768 99.52 8.824C99.64 8.68 99.76 8.536 99.88 8.392L97.36 7.48ZM123.952 12.496H127.648C126.952 13.168 126.184 13.768 125.368 14.392H123.952V12.496ZM134.392 16.792V14.392H129.232C130.816 13 132.256 11.488 133.48 9.904L131.272 8.656C130.504 9.616 129.688 10.552 128.776 11.44V10.168H123.952V7.672H121.144V10.168H115.456V12.496H121.144V14.392H113.44V16.792H121.912C118.984 18.592 115.816 20.08 112.672 21.16C113.032 21.784 113.584 23.08 113.752 23.728C115.744 22.96 117.736 22.024 119.704 20.968C119.08 22.312 118.336 23.704 117.712 24.784H128.008C127.696 26.2 127.36 26.968 126.952 27.256C126.64 27.472 126.28 27.496 125.728 27.496C125.032 27.496 123.088 27.448 121.456 27.328C121.984 28.048 122.392 29.152 122.416 29.968C124.096 30.04 125.68 30.04 126.568 29.968C127.744 29.92 128.488 29.752 129.208 29.128C130.048 28.408 130.6 26.8 131.128 23.632C131.224 23.272 131.32 22.48 131.32 22.48H121.912C122.2 21.904 122.464 21.304 122.728 20.704H131.992V18.544H123.784C124.648 17.968 125.488 17.416 126.304 16.792H134.392ZM147.664 24.136C150.64 23.272 152.392 21.04 152.392 18.328C152.392 16.312 151.504 15.04 149.8 15.04C148.528 15.04 147.448 15.856 147.448 17.2C147.448 18.568 148.528 19.336 149.728 19.336C149.824 19.336 149.92 19.336 149.992 19.312C149.848 20.584 148.768 21.616 146.896 22.216L147.664 24.136ZM170.68 23.896V26.704H167.944V23.896H170.68ZM173.176 21.64H165.472V29.92H167.944V28.984H173.176V21.64ZM165.112 20.392H173.608V18.232H165.112V20.392ZM165.592 14.824V16.936H173.2V14.824H165.592ZM171.136 10.432C170.8 9.592 170.032 8.368 169.288 7.504L166.984 8.608C167.584 9.376 168.208 10.408 168.568 11.248H164.392V13.504H174.376V11.248H169.624L171.136 10.432ZM179.464 27.088C178.336 27.088 178.12 26.944 178.12 25.936V19.312H182.656V20.488H185.536V8.872H175.168V11.584H182.656V16.6H175.24V25.936C175.24 28.96 176.152 29.8 179.128 29.8H183.04C185.752 29.8 186.544 28.624 186.88 24.664C186.112 24.472 184.888 23.992 184.264 23.536C184.096 26.536 183.928 27.088 182.848 27.088H179.464ZM208.24 11.56H202V10.36H208.24V11.56ZM208.24 14.68H202V13.432H208.24V14.68ZM211.12 8.368H199.24V16.672H211.12V8.368ZM195.112 7.696C194.104 9.304 191.992 11.248 190.12 12.4C190.552 13 191.248 14.176 191.536 14.824C193.792 13.36 196.24 11.008 197.824 8.8L195.112 7.696ZM195.736 12.928C194.344 15.28 191.992 17.608 189.856 19.096C190.288 19.792 191.008 21.424 191.224 22.048C191.944 21.496 192.664 20.824 193.384 20.104V30.064H196.144V17.032C196.936 16.024 197.656 15.016 198.232 14.008L195.736 12.928ZM212.392 21.424H209.128V20.056H211.912V17.728H198.016V20.056H206.224V21.424H197.44V23.848H200.8L199.024 25.024C200.032 26.032 201.256 27.448 201.784 28.36L203.92 26.848C203.32 26.008 202.144 24.76 201.184 23.848H206.224V27.184C206.224 27.448 206.128 27.544 205.792 27.568C205.48 27.568 204.352 27.568 203.344 27.52C203.704 28.24 204.112 29.296 204.232 30.064C205.864 30.064 207.064 30.064 207.952 29.656C208.888 29.248 209.128 28.576 209.128 27.256V23.848H212.416L212.392 21.424ZM225.928 13.24V14.368H223.24L225.112 12.832C224.776 12.376 224.176 11.704 223.576 11.104H227.08C226.84 11.32 226.6 11.536 226.336 11.728C226.912 12.064 227.776 12.76 228.304 13.24H225.928ZM232.936 16.336V17.176H228.832V16.336H232.936ZM232.936 20.176H228.832V19.24H232.936V20.176ZM238.504 8.968H231.832C231.952 8.68 232.072 8.416 232.192 8.128L229.624 7.456C229.072 8.752 228.208 10.048 227.152 11.032V8.968H221.944C222.064 8.728 222.208 8.464 222.328 8.224L219.832 7.456C219.04 9.04 217.648 10.6 216.232 11.632C216.808 12.112 217.72 13.072 218.128 13.6C218.944 12.928 219.76 12.088 220.48 11.104H222.304L221.2 11.944C221.92 12.688 222.784 13.696 223.192 14.368H219.448V16.336H225.928V17.176H216.568V19.24H225.928V20.176H219.208V22.168H225.928V22.984H218.536V25.072H225.928V25.936H217.048V28.072H225.928V30.088H228.832V28.072H237.928V25.936H228.832V25.072H236.392V22.984H228.832V22.168H235.888V19.24H238.36V17.176H235.888V14.368H228.832V13.24H228.688C229.312 12.664 229.936 11.92 230.536 11.104H232.672L231.616 11.824C232.336 12.568 233.248 13.576 233.632 14.248L235.72 12.784C235.384 12.328 234.784 11.68 234.208 11.104H238.504V8.968ZM248.44 23.896V26.704H245.704V23.896H248.44ZM250.936 21.64H243.232V29.92H245.704V28.984H250.936V21.64ZM242.872 20.392H251.368V18.232H242.872V20.392ZM243.352 14.824V16.936H250.96V14.824H243.352ZM248.896 10.432C248.56 9.592 247.792 8.368 247.048 7.504L244.744 8.608C245.344 9.376 245.968 10.408 246.328 11.248H242.152V13.504H252.136V11.248H247.384L248.896 10.432ZM257.224 27.088C256.096 27.088 255.88 26.944 255.88 25.936V19.312H260.416V20.488H263.296V8.872H252.928V11.584H260.416V16.6H253V25.936C253 28.96 253.912 29.8 256.888 29.8H260.8C263.512 29.8 264.304 28.624 264.64 24.664C263.872 24.472 262.648 23.992 262.024 23.536C261.856 26.536 261.688 27.088 260.608 27.088H257.224ZM277.264 24.136C280.24 23.272 281.992 21.04 281.992 18.328C281.992 16.312 281.104 15.04 279.4 15.04C278.128 15.04 277.048 15.856 277.048 17.2C277.048 18.568 278.128 19.336 279.328 19.336C279.424 19.336 279.52 19.336 279.592 19.312C279.448 20.584 278.368 21.616 276.496 22.216L277.264 24.136ZM300.28 23.896V26.704H297.544V23.896H300.28ZM302.776 21.64H295.072V29.92H297.544V28.984H302.776V21.64ZM294.712 20.392H303.208V18.232H294.712V20.392ZM295.192 14.824V16.936H302.8V14.824H295.192ZM300.736 10.432C300.4 9.592 299.632 8.368 298.888 7.504L296.584 8.608C297.184 9.376 297.808 10.408 298.168 11.248H293.992V13.504H303.976V11.248H299.224L300.736 10.432ZM309.064 27.088C307.936 27.088 307.72 26.944 307.72 25.936V19.312H312.256V20.488H315.136V8.872H304.768V11.584H312.256V16.6H304.84V25.936C304.84 28.96 305.752 29.8 308.728 29.8H312.64C315.352 29.8 316.144 28.624 316.48 24.664C315.712 24.472 314.488 23.992 313.864 23.536C313.696 26.536 313.528 27.088 312.448 27.088H309.064ZM325.168 7.768C323.968 11.176 321.88 14.584 319.696 16.744C320.2 17.464 321.016 19.096 321.28 19.792C321.76 19.264 322.264 18.664 322.768 18.064V30.064H325.648V13.624C326.536 12.016 327.328 10.312 327.952 8.632L325.168 7.768ZM336.208 26.632V21.808H341.392V19.12H336.208V14.896H342.064V12.184H334.264L336.736 11.296C336.4 10.264 335.56 8.704 334.84 7.576L332.2 8.464C332.896 9.64 333.616 11.176 333.904 12.184H327.448V14.896H333.304V19.12H328.24V21.808H333.304V26.632H326.92V29.344H342.4V26.632H336.208ZM367.624 12.16C366.928 11.032 365.344 9.448 364.072 8.344L361.912 9.808C363.208 10.96 364.696 12.664 365.32 13.768L367.624 12.16ZM364.552 17.968C363.928 19.12 363.136 20.2 362.272 21.232C362.008 20.008 361.768 18.616 361.576 17.176H367.816V14.464H361.288C361.096 12.352 361 10.12 361.048 7.888H358.048C358.072 10.072 358.144 12.304 358.336 14.464H353.728V11.224C355.12 10.936 356.44 10.624 357.64 10.264L355.72 7.84C353.272 8.632 349.552 9.4 346.192 9.856C346.504 10.504 346.888 11.56 347.008 12.256C348.232 12.112 349.552 11.944 350.848 11.728V14.464H346.312V17.176H350.848V20.392C348.952 20.728 347.224 20.992 345.856 21.208L346.552 24.088C347.824 23.848 349.312 23.536 350.848 23.224V26.704C350.848 27.088 350.704 27.208 350.272 27.208C349.84 27.232 348.448 27.256 347.104 27.184C347.512 27.976 347.992 29.272 348.112 30.064C350.056 30.088 351.496 29.968 352.432 29.512C353.392 29.056 353.728 28.288 353.728 26.728V22.624L357.64 21.832L357.424 19.24C356.2 19.456 354.952 19.696 353.728 19.912V17.176H358.6C358.888 19.528 359.296 21.712 359.824 23.608C358.168 24.976 356.32 26.152 354.472 26.992C355.168 27.64 355.96 28.624 356.368 29.296C357.904 28.504 359.416 27.52 360.808 26.368C361.84 28.72 363.184 30.16 364.936 30.16C367.12 30.16 368.008 29.104 368.464 24.904C367.696 24.592 366.736 23.944 366.112 23.272C365.992 26.104 365.704 27.256 365.2 27.256C364.48 27.256 363.736 26.152 363.088 24.304C364.648 22.744 365.992 20.992 367.072 19.048L364.552 17.968ZM381.424 12.112H374.464V14.08H391.72V12.112H384.328V11.128H393.16V9.088H384.328V7.648H381.424V9.088H372.808V11.128H381.424V12.112ZM388.216 26.056V27.52H377.824V26.056H388.216ZM375.016 30.088H377.824V29.44H388.216V30.064H391.168V24.16H375.016V30.088ZM386.032 19.624C385.864 20.104 385.648 20.632 385.408 21.112H380.464C380.32 20.656 380.08 20.104 379.792 19.624H386.032ZM378.208 16.672H387.784V17.872H378.208V16.672ZM388.36 21.112C388.648 20.68 388.984 20.176 389.296 19.624H390.664V14.872H375.496V19.624H377.944L376.936 19.864C377.128 20.224 377.344 20.68 377.488 21.112H371.992V23.272H393.904V21.112H388.36ZM407.44 10.888H410.2V8.872H407.44V7.672H404.992V12.112H407.44V10.888ZM400.552 12.112H403V7.672H400.552V8.896H397.624V10.912H400.552V12.112ZM401.776 26.08H404.032V27.16H401.776V26.08ZM404.032 21.52H401.776V20.608H404.032V21.52ZM404.032 24.304H401.776V23.296H404.032V24.304ZM400.168 13.984H401.752V15.688H400.168V13.984ZM406.12 13.984H407.704V15.616H406.12V13.984ZM415.696 14.608H413.224V16.096C413.224 19.312 412.888 24.16 409.384 27.952V27.16H406.336V26.08H409.264V24.304H406.336V23.296H409.072V21.52H406.336V20.608H409.552V18.712H406.384C406.216 18.184 405.88 17.584 405.544 17.08H409.192C409.096 17.224 409.024 17.368 408.928 17.512C409.528 17.896 410.632 18.784 411.088 19.264C411.952 17.8 412.672 15.88 413.176 13.672H417.376C417.112 15.112 416.8 16.528 416.512 17.56L418.576 18.208C419.152 16.504 419.8 13.84 420.208 11.488L418.456 10.984L418.072 11.08H413.728C413.92 10.072 414.088 9.064 414.208 8.032L411.592 7.624C411.232 10.984 410.584 14.296 409.432 16.6V12.52H404.488V17.08H405.184L403.624 17.656C403.816 17.968 403.984 18.352 404.128 18.712H401.992C402.184 18.304 402.376 17.92 402.544 17.512L401.368 17.104H403.48V12.544H398.512V17.104H400.528C399.808 18.856 398.656 20.608 397.504 21.808C397.864 22.288 398.464 23.368 398.68 23.776C398.992 23.44 399.28 23.104 399.592 22.696V30.112H401.776V29.08H409.384V28.624C409.96 29.104 410.632 29.776 410.968 30.256C412.816 28.384 413.944 26.248 414.616 24.088C415.504 26.704 416.728 28.864 418.504 30.232C418.888 29.464 419.728 28.36 420.304 27.856C417.784 26.2 416.344 22.768 415.6 18.952C415.672 17.944 415.696 16.984 415.696 16.144V14.608ZM428.536 7.768C427.336 11.176 425.248 14.584 423.088 16.744C423.568 17.44 424.36 19 424.624 19.72C425.152 19.144 425.704 18.496 426.232 17.776V30.04H428.968V13.528C429.856 11.944 430.624 10.264 431.248 8.608L428.536 7.768ZM432.976 18.352C432.424 21.016 431.416 23.728 430.048 25.408C430.744 25.768 431.944 26.488 432.496 26.944C433.84 25 435.064 21.976 435.76 18.928L432.976 18.352ZM442.96 14.608C442.84 15.664 442.696 16.672 442.576 17.416L445 17.824C445.336 16.432 445.744 14.2 446.032 12.256L444.016 11.872L443.56 11.968H435.304C435.736 10.792 436.12 9.616 436.432 8.392L433.648 7.768C432.832 11.056 431.392 14.368 429.568 16.408C430.216 16.84 431.368 17.776 431.872 18.28C432.664 17.272 433.456 16 434.128 14.608H436.912V26.848C436.912 27.16 436.792 27.256 436.48 27.256C436.144 27.256 435.136 27.256 434.128 27.232C434.56 28 434.992 29.272 435.112 30.112C436.648 30.112 437.8 29.992 438.64 29.536C439.504 29.056 439.744 28.264 439.744 26.896V14.608H442.96ZM440.608 18.976C441.76 21.448 442.768 24.736 443.032 26.872L445.768 25.936C445.432 23.776 444.4 20.584 443.152 18.112L440.608 18.976Z" fill="#29CEB9"/>
    <path d="M7.08649 0C3.33784 1.64516 0 5.03226 0 9.82258C0 12.7258 1.95135 15 4.51892 15C7.03514 15 8.52432 13.3548 8.52432 11.4194C8.52432 9.43548 7.08649 7.8871 4.92973 7.8871C4.46757 7.8871 4.05676 8.03226 3.85135 8.12903C3.85135 6.62903 5.44324 3.91935 8.52432 2.56451L7.08649 0ZM17.5108 0C13.7622 1.64516 10.4243 5.03226 10.4243 9.82258C10.4243 12.7258 12.3757 15 14.9432 15C17.5108 15 18.9486 13.3548 18.9486 11.4194C18.9486 9.43548 17.5108 7.8871 15.4054 7.8871C14.8919 7.8871 14.4811 8.03226 14.2757 8.12903C14.2757 6.62903 15.8676 3.91935 19 2.56451L17.5108 0Z" fill="#29CEB9"/>
    </svg>
  </div>
  );
}

function CheckMark() {
  return (
    <div>
    <svg width="44" height="34" viewBox="0 0 44 34" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M2 13.7391L18.6667 32L42 2" stroke="#29CEB9" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    </div>
  );
}

function Cross() {
  return (
    <div className="cross">
        <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M2 2L25.9999 26" stroke="#29CEB9" stroke-width="4" stroke-linecap="round"/>
        <path d="M26 2L2.00008 26" stroke="#29CEB9" stroke-width="4" stroke-linecap="round"/>
        </svg>
    </div>
  );
}

function mapScore(val) {
  if (val <= 9) return 'peach';
  else if (val >= 10 && val <= 12) return 'kiwi';
  else if (val >= 13 && val <= 15) return 'strawberry';
  return 'orange';
} 

function Result(props) {
  console.log(props)
  const [isLoading, setisLoading] = useState('idle')

  const result_descript = {
    'peach': '你熱情洋溢、富有想像力。 認為生活充滿無限可能性。 能很快地將接收到的資訊並舉一反三，很務實的解決問題，相信自己一直能夠朝更好的方向前進。對大家而言，你是一位樂於欣賞和支持別人，給人靈活、有活力的感覺，會有規劃的記錄下自己的成長的過程，也擅於分享給他人。',
    'kiwi': '平常不喜歡引人關注的你，是個做事低調但非常自律及自我要求高的人，你擁有許多尚未被人挖掘的潛能，喜歡事情有條理，也很注重工作上的效率。對於大家而言，你是個獨特的存在，剛開始看似內向，但一和你相處久了之後就會發現你是一個很穩靠的工作夥伴，所以大家都喜歡向你詢問想法或意見，作為他們重要的參考依據。',
    'strawberry': '你外向、非常能言善道，注重自己對外的形象，擁有讓人無法忽視的外在氣場，但同時也是個好親近的人。你很注重工作上是否能夠為你帶來成就感，比起平凡無趣的工作，你更喜歡富有挑戰性的任務。對於大家而言，你經常是在討論會議上擔任發言或是主要溝通的角色，只要有你在場，再難解決的客戶也能夠被你說服。',
    'orange': '你對於美感總是有獨特的見解及品味，擁有獨立思考及打理生活的能力，平常的你不拘小節，但如果是碰到自己在意或覺得重要的事情不會輕易妥協。對於大家而言，你看起來很冷靜讓人不敢輕易靠近，但認識你的人都知道其實你是很願意分享想法、聆聽他人意見的人。'
  }

  const map_img_src = {
    'peach': circle_peach,
    'kiwi': circle_kiwi,
    'strawberry': circle_strawberry,
    'orange': circle_orange
  }
  const map_office_src = {
    'peach': onenote,
    'kiwi': excel,
    'strawberry': teams,
    'orange': ppt
  }
  const rank = mapScore(props.score)

  const formSubmit = () => {
    setisLoading('wait')
    let requestOptions = {
      method: 'POST',
      body: JSON.stringify({
        result: rank,
        name: props.userName
      }),
      headers: {
        'content-type': 'application/json'
      }
    };
    fetch('/api/print', requestOptions)
    .then(response => response.text())
    .then(result => {
      console.log(result)
      if (result === 'success') setisLoading('done')
      else setisLoading('idle')
    })
  }

  const handleGoToFirst = () => {
    setisLoading('idle')
    props.goToTheFirstPage()
  }
  return (
    <div>
      <ResultBG />
      <div className="content-container">
        <div className="mid-container">
          {
            isLoading === 'idle' && 
            <div className="greet">Hi, {props.userName}，以下是你的測驗結果：</div>
          }
          <div className="result-container"> 
          <Canvas />
          {
            isLoading === 'idle' &&  
            <div className="result-content"> 
              <div className="result-title separator">你的職場水果味</div> 
              <Slogan />
              <div className="result-pic-container separator">
                <div className="result-pic-circle">
                  <img src={map_img_src[rank]} alt={`circle_${rank}`} style={{marginTop:'3px'}}/>
                </div>
                <Cross />
                <div className="result-pic-circle">
                <img src={map_office_src[rank]} alt={`office_${rank}`} 
                style={{ maxHeight:'70%', maxWidth:'70%', marginTop: '14.5px'}}/>
                </div>
              </div>      
              <div className="result-descipt">{result_descript[rank]}</div>
              <div className="result-btn-container">
                <Return goToTheFirstPage={handleGoToFirst}/>
                <Confirm formSubmit={formSubmit}/>
              </div>
            </div>
          }
          {
            isLoading === 'wait' &&
            <div className="result-content">
              <div className="loading">列印中</div>
            </div>
          }
          {
            isLoading === 'done' &&
            <div className="result-content">
              <div className="result-check-mark separator"><CheckMark /></div>
              <div className="result-done separator">列印完成，請拿取結果</div>
              <Restart goToTheFirstPage={handleGoToFirst}/>
              <div className="fruits">
                <img  src={peach} alt="peach"/>
                <img  src={orange} alt="orange"/>
                <img  src={kiwi} alt="kiwi"/>
                <img  src={strawberry} alt="strawberry"/>
              </div>
            </div>
          }
          </div>
        </div>
      </div>
    </div>
  );
}

export default Result;